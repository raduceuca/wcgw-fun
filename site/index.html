<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>WCGW (What could go wrong?) — Tools for the aftermath</title>
  <meta name="description" content="Design tools. Sharp observations. The creative studio of Radu Ceuca.">

  <!-- Open Graph -->
  <meta property="og:title" content="WCGW (What could go wrong?) — Tools for the aftermath">
  <meta property="og:description" content="Someone has to.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://wcgw.fun">
  <meta property="og:image" content="https://wcgw.fun/og-image.png">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@wcgwfun">
  <meta name="twitter:title" content="WCGW (What could go wrong?) — Tools for the aftermath">
  <meta name="twitter:description" content="Someone has to.">
  <meta name="twitter:image" content="https://wcgw.fun/og-image.png">

  <!-- Favicon -->
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">

  <!-- Styles -->
  <link rel="stylesheet" href="/styles.css">

  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "v939g6gw99");
  </script>
</head>
<body>
  <main>
    <header>
      <svg class="logo" width="114" height="50" viewBox="0 0 228 100" fill="none" aria-label="WCGW logo" role="img">
        <!-- Glow effect (blur only, no source graphic) -->
        <defs>
          <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur in="SourceGraphic" stdDeviation="14"/>
          </filter>
        </defs>
        <!-- Back ring (behind dome, blurred glow only) -->
        <path class="ring-back" opacity="0.46" filter="url(#glow)" d="M63.5 33C43.74 39.23 31 49 31 60C31 78.78 68.16 94 114 94C159.84 94 197 78.78 197 60C197 49 184.26 39.23 164.5 33" stroke="currentColor" stroke-width="6" stroke-linecap="round"/>
        <!-- Dome -->
        <path d="M166 65V53C166 25.39 143.61 3 116 3H112C84.39 3 62 25.39 62 53V65" stroke="currentColor" stroke-width="6" stroke-linecap="round"/>
        <!-- Front ring -->
        <path d="M55.59 24C32.73 31.13 18 42.35 18 54.97C18 76.53 60.98 94 114 94C167.02 94 210 76.53 210 54.97C210 42.35 195.27 31.13 172.41 24" stroke="currentColor" stroke-width="6" stroke-linecap="round"/>
        <!-- Plus eye -->
        <rect x="93" y="56" width="26" height="6" rx="3" transform="rotate(-90 93 56)" fill="currentColor"/>
        <rect x="83" y="40" width="26" height="6" rx="3" fill="currentColor"/>
        <!-- X eye (default) -->
        <g class="eye-x">
          <rect x="120" y="53" width="32" height="6" rx="3" transform="rotate(-45 120 53)" fill="currentColor"/>
          <rect x="124" y="30" width="32" height="6" rx="3" transform="rotate(45 124 30)" fill="currentColor"/>
        </g>
        <!-- Sun eye (hover in light mode) - centered at X position -->
        <g class="eye-mode eye-sun" fill="currentColor">
          <circle cx="144" cy="41" r="6"/>
          <rect x="141" y="27" width="6" height="5" rx="2.5"/>
          <rect x="141" y="50" width="6" height="5" rx="2.5"/>
          <rect x="130" y="38" width="5" height="6" rx="2.5"/>
          <rect x="153" y="38" width="5" height="6" rx="2.5"/>
        </g>
        <!-- Moon eye (hover in dark mode) - centered at X position (145, 42) -->
        <g class="eye-mode eye-moon" fill="currentColor">
          <path d="M141 30 A14 14 0 1 0 141 54 A10 10 0 1 1 141 30"/>
        </g>
      </svg>
      <h1>Tools for the aftermath <span class="tagline">(Someone has to.)</span></h1>
    </header>

    <section class="projects" aria-label="Projects">
      <article class="project">
        <div class="project-title">
          <a href="https://claudecraft.dev" class="project-link" target="_blank" rel="noopener">claudecraft.dev</a>
          <span class="status status--live">Live</span>
        </div>
        <p class="project-desc">Designer-first boilerplate for Claude Code</p>
      </article>

      <article class="project">
        <div class="project-title">
          <a href="https://slopmeter.wtf" class="project-link" target="_blank" rel="noopener">slopmeter.wtf</a>
          <span class="status status--live">Live</span>
        </div>
        <p class="project-desc">AI slop detection, measured in Altmans</p>
      </article>

      <article class="project">
        <div class="project-title">
          <a href="https://slopmeter.wtf/periodic-table" class="project-link" target="_blank" rel="noopener">Periodic Table of Slop</a>
          <span class="status status--live">Live</span>
        </div>
        <p class="project-desc">The elements of AI-generated content</p>
      </article>

      <article class="project">
        <div class="project-title">
          <span class="project-link">Taste Files</span>
          <span class="status status--soon">Coming Soon</span>
        </div>
        <p class="project-desc">Design systems for AI</p>
      </article>
    </section>

    <section class="about" aria-label="About">
      <p>WCGW is the creative studio of Radu Ceuca. Designer and builder of things. Optimist with backups.</p>
      <p>
        <a href="https://x.com/raduceuca" class="social-link" target="_blank" rel="noopener">@raduceuca</a>
        <span aria-hidden="true"> · </span>
        <a href="https://x.com/wcgwfun" class="social-link" target="_blank" rel="noopener">@wcgwfun</a>
      </p>
    </section>
  </main>

  <footer>
    <p>&copy; <span id="year"></span></p>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Theme toggle
    const logo = document.querySelector('.logo');
    const root = document.documentElement;

    // Check saved preference
    const saved = localStorage.getItem('theme');
    if (saved) root.dataset.theme = saved;

    logo.addEventListener('click', () => {
      const isDark = getComputedStyle(root).getPropertyValue('--bg').trim() === '#0a0a0a';
      const newTheme = isDark ? 'light' : 'dark';
      root.dataset.theme = newTheme;
      localStorage.setItem('theme', newTheme);
      // Track theme toggle in Clarity
      if (window.clarity) {
        clarity('event', 'theme_toggle');
        clarity('set', 'theme', newTheme);
      }
    });

    // Track link clicks
    document.querySelectorAll('a[href]').forEach(link => {
      link.addEventListener('click', () => {
        if (window.clarity) {
          const linkText = link.textContent.trim() || link.href;
          clarity('event', 'link_click');
          clarity('set', 'clicked_link', linkText);
        }
      });
    });

    // Animated favicon - smooth color interpolation
    const colors = [
      [45, 212, 191],   // teal #2dd4bf
      [167, 139, 250],  // violet #a78bfa
      [244, 114, 182],  // pink #f472b6
      [251, 146, 60],   // orange #fb923c
      [74, 222, 128],   // green #4ade80
      [56, 189, 248]    // sky #38bdf8
    ];

    const lerp = (a, b, t) => a + (b - a) * t;
    const lerpColor = (c1, c2, t) => [
      Math.round(lerp(c1[0], c2[0], t)),
      Math.round(lerp(c1[1], c2[1], t)),
      Math.round(lerp(c1[2], c2[2], t))
    ];
    const rgbToHex = ([r, g, b]) => '#' + [r, g, b].map(x => x.toString(16).padStart(2, '0')).join('');

    const faviconSvg = (color) => `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
      <circle cx="16" cy="16" r="14" stroke="${color}" stroke-width="2" fill="none"/>
      <path d="M6 20 A10 3.5 0 0 1 8 17.5" stroke="${color}" stroke-width="2" fill="none" stroke-linecap="round"/>
      <path d="M24 17.5 A10 3.5 0 0 1 26 20" stroke="${color}" stroke-width="2" fill="none" stroke-linecap="round"/>
      <path d="M6 20 A10 3.5 0 0 0 26 20" stroke="${color}" stroke-width="2" fill="none" stroke-linecap="round"/>
      <path d="M8 18 C8 18 8 9 16 9 C24 9 24 18 24 18" stroke="${color}" stroke-width="2" fill="none" stroke-linecap="round"/>
      <g stroke="${color}" stroke-width="2" stroke-linecap="round"><line x1="12" y1="12" x2="12" y2="16"/><line x1="10" y1="14" x2="14" y2="14"/></g>
      <g stroke="${color}" stroke-width="2" stroke-linecap="round"><line x1="18" y1="12" x2="22" y2="16"/><line x1="22" y1="12" x2="18" y2="16"/></g>
    </svg>`;

    const favicon = document.querySelector('link[rel="icon"]');
    const cycleDuration = 12000; // 12s total cycle (matches CSS)
    let lastUpdate = 0;
    const updateInterval = 50; // ~20fps (balance between smoothness and performance)

    function animateFavicon(timestamp) {
      if (timestamp - lastUpdate >= updateInterval) {
        const progress = (timestamp % cycleDuration) / cycleDuration;
        const totalSegments = colors.length;
        const segmentProgress = progress * totalSegments;
        const currentIndex = Math.floor(segmentProgress) % totalSegments;
        const nextIndex = (currentIndex + 1) % totalSegments;
        const t = segmentProgress - currentIndex;

        const interpolatedColor = lerpColor(colors[currentIndex], colors[nextIndex], t);
        favicon.href = 'data:image/svg+xml,' + encodeURIComponent(faviconSvg(rgbToHex(interpolatedColor)));
        lastUpdate = timestamp;
      }
      requestAnimationFrame(animateFavicon);
    }
    requestAnimationFrame(animateFavicon);
  </script>
</body>
</html>
